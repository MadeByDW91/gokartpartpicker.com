{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "gokartpartpicker-category-specs",
  "version": "1.0.0",
  "description": "Validation specifications for part metadata by category",

  "categories": {
    "engines/complete-engines": {
      "required": ["displacement_cc", "valve_config", "shaft_diameter_in"],
      "optional": ["bore_mm", "stroke_mm", "variant", "shaft_length_in", "shaft_keyway", "electric_start", "governor_removed", "stage_kit"],
      "specs": {
        "displacement_cc": {
          "type": "integer",
          "min": 50,
          "max": 1000,
          "unit": "cc",
          "common_values": [79, 99, 196, 212, 224, 270, 301, 390, 420, 459, 670]
        },
        "bore_mm": {
          "type": "decimal",
          "min": 40.0,
          "max": 100.0,
          "precision": 2,
          "unit": "mm",
          "common_values": [52.0, 56.0, 68.0, 70.0, 73.0, 77.0, 88.0, 90.0]
        },
        "stroke_mm": {
          "type": "decimal",
          "min": 30.0,
          "max": 80.0,
          "precision": 2,
          "unit": "mm"
        },
        "valve_config": {
          "type": "enum",
          "values": ["OHV", "Flathead", "Side-Valve", "OHC"],
          "default": "OHV"
        },
        "variant": {
          "type": "enum",
          "values": ["Hemi", "Non-Hemi", "Standard", "Racing", "EPA"],
          "nullable": true
        },
        "shaft_diameter_in": {
          "type": "decimal",
          "min": 0.5,
          "max": 1.5,
          "precision": 3,
          "unit": "inches",
          "common_values": [0.625, 0.75, 0.787, 1.0, 1.125]
        },
        "shaft_length_in": {
          "type": "decimal",
          "min": 1.0,
          "max": 5.0,
          "precision": 2,
          "unit": "inches"
        },
        "shaft_keyway": {
          "type": "enum",
          "values": ["3/16\"", "1/4\"", "5mm", "6mm"],
          "default": "3/16\""
        },
        "electric_start": {
          "type": "boolean",
          "default": false
        },
        "governor_removed": {
          "type": "boolean",
          "default": false
        },
        "stage_kit": {
          "type": "enum",
          "values": ["Stage 1", "Stage 2", "Stage 3", "Stage 4", null],
          "nullable": true
        }
      }
    },

    "engines/pistons": {
      "required": ["bore_mm"],
      "optional": ["compression_height_mm", "pin_diameter_mm", "ring_count", "dome_type", "material", "oversize_mm"],
      "specs": {
        "bore_mm": {
          "type": "decimal",
          "min": 40.0,
          "max": 100.0,
          "precision": 2,
          "unit": "mm"
        },
        "compression_height_mm": {
          "type": "decimal",
          "min": 15.0,
          "max": 50.0,
          "precision": 2,
          "unit": "mm"
        },
        "pin_diameter_mm": {
          "type": "decimal",
          "min": 10.0,
          "max": 25.0,
          "precision": 2,
          "unit": "mm"
        },
        "ring_count": {
          "type": "integer",
          "min": 1,
          "max": 4,
          "common_values": [2, 3]
        },
        "dome_type": {
          "type": "enum",
          "values": ["flat", "domed", "dished", "popup"]
        },
        "material": {
          "type": "enum",
          "values": ["cast", "forged", "hypereutectic"]
        },
        "oversize_mm": {
          "type": "decimal",
          "min": 0,
          "max": 2.0,
          "precision": 2,
          "unit": "mm",
          "common_values": [0, 0.25, 0.5, 0.75, 1.0]
        }
      }
    },

    "engines/camshafts": {
      "required": [],
      "optional": ["duration_int_deg", "duration_exh_deg", "lift_int_in", "lift_exh_in", "lobe_separation", "grind_type", "rocker_ratio"],
      "specs": {
        "duration_int_deg": {
          "type": "integer",
          "min": 200,
          "max": 320,
          "unit": "degrees"
        },
        "duration_exh_deg": {
          "type": "integer",
          "min": 200,
          "max": 320,
          "unit": "degrees"
        },
        "lift_int_in": {
          "type": "decimal",
          "min": 0.200,
          "max": 0.500,
          "precision": 3,
          "unit": "inches"
        },
        "lift_exh_in": {
          "type": "decimal",
          "min": 0.200,
          "max": 0.500,
          "precision": 3,
          "unit": "inches"
        },
        "lobe_separation": {
          "type": "integer",
          "min": 100,
          "max": 120,
          "unit": "degrees"
        },
        "grind_type": {
          "type": "enum",
          "values": ["stock", "mild", "performance", "race", "extreme"]
        },
        "rocker_ratio": {
          "type": "decimal",
          "min": 1.0,
          "max": 2.0,
          "precision": 2,
          "common_values": [1.0, 1.1, 1.2, 1.3]
        }
      }
    },

    "carburetors/complete-carburetors": {
      "required": ["throat_diameter_mm"],
      "optional": ["carburetor_model", "main_jet", "pilot_jet", "needle_clip", "choke_type", "fuel_inlet", "mounting_style"],
      "specs": {
        "carburetor_model": {
          "type": "string",
          "pattern": "^[A-Za-z0-9\\-\\s]+$",
          "common_values": ["Mikuni VM22", "Mikuni VM26", "Mikuni TM24", "Walbro WYL", "Tillotson HL", "Huayi", "PZ22", "PZ27", "PWK28", "PWK30"]
        },
        "throat_diameter_mm": {
          "type": "integer",
          "min": 15,
          "max": 45,
          "unit": "mm",
          "common_values": [19, 22, 24, 26, 27, 28, 30, 34]
        },
        "main_jet": {
          "type": "decimal",
          "min": 50,
          "max": 200,
          "precision": 1
        },
        "pilot_jet": {
          "type": "decimal",
          "min": 10,
          "max": 50,
          "precision": 1
        },
        "needle_clip": {
          "type": "integer",
          "min": 1,
          "max": 7,
          "common_values": [2, 3, 4]
        },
        "choke_type": {
          "type": "enum",
          "values": ["manual", "auto", "none"]
        },
        "fuel_inlet": {
          "type": "enum",
          "values": ["side", "bottom", "top"]
        },
        "mounting_style": {
          "type": "enum",
          "values": ["flange", "spigot", "clamp"]
        }
      }
    },

    "carburetors/jets": {
      "required": ["jet_size"],
      "optional": ["jet_type", "thread_type", "carburetor_model"],
      "specs": {
        "jet_size": {
          "type": "decimal",
          "min": 10,
          "max": 250,
          "precision": 1
        },
        "jet_type": {
          "type": "enum",
          "values": ["main", "pilot", "slow"]
        },
        "thread_type": {
          "type": "enum",
          "values": ["M5", "M6", "N100", "Mikuni Large", "Mikuni Small", "Keihin"]
        },
        "carburetor_model": {
          "type": "string"
        }
      }
    },

    "clutches/centrifugal-clutches": {
      "required": ["bore_in", "chain_size"],
      "optional": ["engagement_rpm", "max_rpm", "sprocket_teeth", "keyway", "shoes_count", "material"],
      "specs": {
        "engagement_rpm": {
          "type": "integer",
          "min": 1500,
          "max": 5000,
          "unit": "RPM",
          "common_values": [2000, 2500, 3000, 3500, 4000]
        },
        "max_rpm": {
          "type": "integer",
          "min": 4000,
          "max": 12000,
          "unit": "RPM"
        },
        "bore_in": {
          "type": "decimal",
          "min": 0.5,
          "max": 1.5,
          "precision": 3,
          "unit": "inches",
          "common_values": [0.625, 0.75, 0.787, 1.0, 1.125]
        },
        "sprocket_teeth": {
          "type": "integer",
          "min": 8,
          "max": 20,
          "common_values": [10, 11, 12, 13, 14]
        },
        "chain_size": {
          "type": "enum",
          "values": ["#35", "#40", "#41", "#420", "#428", "#520"],
          "common_values": ["#35", "#40", "#41"]
        },
        "keyway": {
          "type": "enum",
          "values": ["3/16\"", "1/4\"", "5mm", "6mm", "none"]
        },
        "shoes_count": {
          "type": "integer",
          "min": 2,
          "max": 4,
          "common_values": [2, 3]
        },
        "material": {
          "type": "enum",
          "values": ["steel", "aluminum", "billet"]
        }
      }
    },

    "torque-converters/driver-units": {
      "required": ["bore_in", "series"],
      "optional": ["belt_width_in", "engagement_rpm", "max_rpm", "asymmetric", "keyway"],
      "specs": {
        "series": {
          "type": "enum",
          "values": ["TAV2", "TAV30", "Comet 20", "Comet 30", "Comet 40", "Comet 44", "Comet 94C", "Juggernaut", "CVT"],
          "common_values": ["TAV2", "Comet 30", "Comet 40"]
        },
        "bore_in": {
          "type": "decimal",
          "min": 0.5,
          "max": 1.5,
          "precision": 3,
          "unit": "inches"
        },
        "belt_width_in": {
          "type": "decimal",
          "min": 0.5,
          "max": 1.5,
          "precision": 3,
          "unit": "inches",
          "common_values": [0.669, 0.750, 0.875]
        },
        "engagement_rpm": {
          "type": "integer",
          "min": 1000,
          "max": 4000,
          "unit": "RPM"
        },
        "max_rpm": {
          "type": "integer",
          "min": 4000,
          "max": 10000,
          "unit": "RPM"
        },
        "asymmetric": {
          "type": "boolean",
          "default": true
        },
        "keyway": {
          "type": "enum",
          "values": ["3/16\"", "1/4\"", "5mm", "6mm"]
        }
      }
    },

    "torque-converters/driven-units": {
      "required": ["bore_in", "series"],
      "optional": ["belt_width_in", "sprocket_teeth", "chain_size", "backplate_included"],
      "specs": {
        "series": {
          "type": "enum",
          "values": ["TAV2", "TAV30", "Comet 20", "Comet 30", "Comet 40", "Comet 44", "Comet 94C", "Juggernaut", "CVT"]
        },
        "bore_in": {
          "type": "decimal",
          "min": 0.5,
          "max": 1.5,
          "precision": 3,
          "unit": "inches"
        },
        "belt_width_in": {
          "type": "decimal",
          "min": 0.5,
          "max": 1.5,
          "precision": 3,
          "unit": "inches"
        },
        "sprocket_teeth": {
          "type": "integer",
          "min": 8,
          "max": 20
        },
        "chain_size": {
          "type": "enum",
          "values": ["#35", "#40", "#41", "#420"]
        },
        "backplate_included": {
          "type": "boolean"
        }
      }
    },

    "torque-converters/belts": {
      "required": ["belt_width_in", "series"],
      "optional": ["length_in", "top_width_in", "angle_deg", "material"],
      "specs": {
        "series": {
          "type": "enum",
          "values": ["TAV2", "TAV30", "Comet 20", "Comet 30", "Comet 40", "Comet 44", "Comet 94C", "203589", "203591"]
        },
        "belt_width_in": {
          "type": "decimal",
          "min": 0.4,
          "max": 1.5,
          "precision": 3,
          "unit": "inches"
        },
        "length_in": {
          "type": "decimal",
          "min": 20,
          "max": 50,
          "precision": 2,
          "unit": "inches"
        },
        "top_width_in": {
          "type": "decimal",
          "min": 0.4,
          "max": 1.5,
          "precision": 3,
          "unit": "inches"
        },
        "angle_deg": {
          "type": "integer",
          "min": 25,
          "max": 40,
          "unit": "degrees"
        },
        "material": {
          "type": "enum",
          "values": ["rubber", "kevlar", "aramid"]
        }
      }
    },

    "chains-sprockets/chains": {
      "required": ["chain_size"],
      "optional": ["pitch_in", "links", "type", "material", "plating"],
      "specs": {
        "chain_size": {
          "type": "enum",
          "values": ["#35", "#40", "#41", "#420", "#428", "#520", "#530"]
        },
        "pitch_in": {
          "type": "decimal",
          "min": 0.25,
          "max": 0.75,
          "precision": 3,
          "unit": "inches",
          "derived_from": {
            "#35": 0.375,
            "#40": 0.5,
            "#41": 0.5,
            "#420": 0.5,
            "#428": 0.5,
            "#520": 0.625,
            "#530": 0.625
          }
        },
        "links": {
          "type": "integer",
          "min": 40,
          "max": 200,
          "common_values": [98, 100, 106, 110, 120]
        },
        "type": {
          "type": "enum",
          "values": ["standard", "heavy-duty", "o-ring", "x-ring"]
        },
        "material": {
          "type": "enum",
          "values": ["steel", "chrome-moly"]
        },
        "plating": {
          "type": "enum",
          "values": ["nickel", "gold", "black", "natural"]
        }
      }
    },

    "chains-sprockets/axle-sprockets": {
      "required": ["teeth", "chain_size", "bore_in"],
      "optional": ["hub_type", "bolt_pattern", "material", "weight_oz"],
      "specs": {
        "teeth": {
          "type": "integer",
          "min": 30,
          "max": 80,
          "common_values": [54, 58, 60, 62, 64, 66, 68, 70, 72]
        },
        "chain_size": {
          "type": "enum",
          "values": ["#35", "#40", "#41", "#420", "#428"]
        },
        "bore_in": {
          "type": "decimal",
          "min": 0.5,
          "max": 1.5,
          "precision": 3,
          "unit": "inches",
          "common_values": [1.0, 1.25, 1.375, 40]
        },
        "hub_type": {
          "type": "enum",
          "values": ["split", "solid", "clamp", "bolt-on"]
        },
        "bolt_pattern": {
          "type": "string",
          "common_values": ["4-hole", "6-hole", "8-hole"]
        },
        "material": {
          "type": "enum",
          "values": ["steel", "aluminum", "7075-aluminum"]
        },
        "weight_oz": {
          "type": "decimal",
          "min": 2,
          "max": 32,
          "precision": 1,
          "unit": "oz"
        }
      }
    },

    "chains-sprockets/clutch-sprockets": {
      "required": ["teeth", "chain_size"],
      "optional": ["bore_in", "keyway", "hub_length_in"],
      "specs": {
        "teeth": {
          "type": "integer",
          "min": 8,
          "max": 20,
          "common_values": [10, 11, 12, 13, 14, 15, 16]
        },
        "chain_size": {
          "type": "enum",
          "values": ["#35", "#40", "#41", "#420"]
        },
        "bore_in": {
          "type": "decimal",
          "min": 0.5,
          "max": 1.0,
          "precision": 3,
          "unit": "inches"
        },
        "keyway": {
          "type": "enum",
          "values": ["3/16\"", "1/4\"", "none"]
        },
        "hub_length_in": {
          "type": "decimal",
          "min": 0.5,
          "max": 3.0,
          "precision": 2,
          "unit": "inches"
        }
      }
    },

    "exhaust/headers": {
      "required": ["inlet_diameter_in"],
      "optional": ["header_type", "length_in", "material", "coating", "flex_section"],
      "specs": {
        "header_type": {
          "type": "string",
          "common_values": ["RLV", "Stinger", "Straight", "Curved", "Open"]
        },
        "inlet_diameter_in": {
          "type": "decimal",
          "min": 0.75,
          "max": 2.0,
          "precision": 2,
          "unit": "inches",
          "common_values": [1.0, 1.125, 1.25]
        },
        "length_in": {
          "type": "integer",
          "min": 10,
          "max": 36,
          "unit": "inches",
          "common_values": [18, 20, 22, 24]
        },
        "material": {
          "type": "enum",
          "values": ["steel", "stainless", "chrome-moly"]
        },
        "coating": {
          "type": "enum",
          "values": ["raw", "black", "ceramic", "chrome"]
        },
        "flex_section": {
          "type": "boolean",
          "default": false
        }
      }
    },

    "air-filtration/air-filters": {
      "required": [],
      "optional": ["filter_type", "inlet_diameter_in", "height_in", "outer_diameter_in", "material"],
      "specs": {
        "filter_type": {
          "type": "enum",
          "values": ["cone", "round", "oval", "pod", "panel", "sock"]
        },
        "inlet_diameter_in": {
          "type": "decimal",
          "min": 1.0,
          "max": 4.0,
          "precision": 2,
          "unit": "inches"
        },
        "height_in": {
          "type": "decimal",
          "min": 1.0,
          "max": 8.0,
          "precision": 2,
          "unit": "inches"
        },
        "outer_diameter_in": {
          "type": "decimal",
          "min": 2.0,
          "max": 8.0,
          "precision": 2,
          "unit": "inches"
        },
        "material": {
          "type": "enum",
          "values": ["foam", "gauze", "paper", "cotton", "stainless-mesh"]
        }
      }
    },

    "ignition/coils": {
      "required": [],
      "optional": ["primary_resistance_ohm", "secondary_resistance_kohm", "spark_plug_boot", "wire_length_in"],
      "specs": {
        "primary_resistance_ohm": {
          "type": "decimal",
          "min": 0.1,
          "max": 5.0,
          "precision": 2,
          "unit": "ohms"
        },
        "secondary_resistance_kohm": {
          "type": "decimal",
          "min": 1,
          "max": 20,
          "precision": 1,
          "unit": "kohms"
        },
        "spark_plug_boot": {
          "type": "enum",
          "values": ["straight", "90-degree", "removable"]
        },
        "wire_length_in": {
          "type": "integer",
          "min": 6,
          "max": 24,
          "unit": "inches"
        }
      }
    },

    "fuel-system/fuel-pumps": {
      "required": ["pump_type"],
      "optional": ["flow_rate_gph", "pressure_psi", "inlet_size", "outlet_size"],
      "specs": {
        "pump_type": {
          "type": "enum",
          "values": ["pulse", "electric", "mechanical"]
        },
        "flow_rate_gph": {
          "type": "decimal",
          "min": 1,
          "max": 50,
          "precision": 1,
          "unit": "GPH"
        },
        "pressure_psi": {
          "type": "decimal",
          "min": 1,
          "max": 15,
          "precision": 1,
          "unit": "PSI"
        },
        "inlet_size": {
          "type": "string",
          "common_values": ["1/4\"", "5/16\"", "3/8\"", "6mm", "8mm"]
        },
        "outlet_size": {
          "type": "string",
          "common_values": ["1/4\"", "5/16\"", "3/8\"", "6mm", "8mm"]
        }
      }
    }
  },

  "validation_rules": {
    "flag_for_review": {
      "missing_required_spec": true,
      "value_out_of_range": true,
      "unknown_brand": true,
      "duplicate_detected": true,
      "uncommon_value": true,
      "parse_error": true
    },
    "auto_normalize": {
      "trim_whitespace": true,
      "standardize_units": true,
      "convert_fractions": true,
      "uppercase_chain_sizes": false
    }
  }
}
